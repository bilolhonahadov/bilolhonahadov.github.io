// Массив с рецептами
const recipes = [
    {
        name: "Чучвара",
        type: "Пельмени",
        ingredients: ["Мука", "Яйца", "Говядина", "Лук", "Соль", "Перец"],
        recipe: "Смешайте муку с яйцами, замесите тесто. Из говядины и лука сделайте начинку. Нарежьте тесто на маленькие квадраты, положите начинку и сформируйте пельмени."
    },
    {
        name: "Тухум-барак",
        type: "Пельмени",
        ingredients: ["Мука", "Яйца", "Сливочное масло", "Соль", "Перец"],
        recipe: "Замесите тесто из муки и яиц. Нарежьте тесто на полоски, отварите их и полейте сливочным маслом. Посолите и поперчите по вкусу."
    },
    {
        name: "Ковурма-чучвара",
        type: "Пельмени",
        ingredients: ["Мука", "Яйца", "Говядина", "Лук", "Соль", "Перец"],
        recipe: "Сделайте начинку из говядины и лука, сформируйте пельмени. Обжарьте пельмени на сковороде до золотистой корочки."
    }, 
    {
        name: "Пельмени с зеленью",
        type: "Пельмени",
        ingredients: [ "Говядина", "Лук", "Соль", "Перец"],
        recipe: "Сделайте начинку из говядины и лука,  сформируйте пельмени. Обжарьте пельмени на сковороде до золотистой корочки."
    },
    {
        name: "Пельмени из сушеных помидоров",
        type: "Пельмени",
        ingredients: [ "Говядина", "Лук", "Соль", "Перец", "Помидоры"],
        recipe: "Сделайте начинку из говядины и лука и сушеных помидоров, сформируйте пельмени. Обжарьте пельмени на сковороде до золотистой корочки."
    },
    {
        name: "Плов",
        type: "Плов",
        ingredients: ["Рис", "Баранина", "Морковь", "Лук", "Чеснок", "Соль", "Перец", "Зира", "Растительное масло"],
        recipe: "Нагрейте масло в большом казане, добавьте нарезанную баранину и обжаривайте до золотистой корочки. Добавьте нарезанный лук и морковь, продолжайте готовить. Выложите рис, добавьте воду так, чтобы она покрывала рис, добавьте специи и чеснок. Варите на медленном огне до готовности риса."
    },
    {
        name: "Лепешки",
        type: "Лепешки",
        ingredients: ["Мука", "Вода", "Дрожжи", "Соль", "Сахар", "Растительное масло"],
        recipe: "Смешайте муку, дрожжи, сахар и соль. Постепенно добавляйте воду и замесите тесто. Дайте тесту подойти в теплом месте. Разделите тесто на части, раскатайте и сформируйте лепешки. Обжаривайте лепешки на сковороде с растительным маслом до золотистого цвета с обеих сторон."
    },
    {
        name: "Ханум",
        type: "Ханум",
        ingredients: ["Мука", "Вода", "Свинина", "Лук", "Морковь", "Соль", "Перец", "Специи"],
        recipe: "Приготовьте тесто из муки и воды, раскатайте его и нарежьте на квадраты. Для начинки обжарьте свинину с луком и морковью. Заверните начинку в квадраты теста и сварите на пару до готовности."
    },
    {
        name: "Шашлык",
        type: "Шашлык",
        ingredients: ["Баранина", "Лук", "Чеснок", "Соль", "Перец", "Кефир", "Растительное масло", "Специи"],
        recipe: "Нарежьте баранину на куски и замаринуйте в смеси кефира, лука, чеснока, соли, перца и специй. Оставьте мариноваться на несколько часов. Нанизайте мясо на шампуры и обжаривайте на гриле или в мангале до готовности."
    },
    {
        name: "Лагман",
        type: "Лагман",
        ingredients: ["Лапша", "Баранина", "Перец", "Морковь", "Лук", "Помидоры", "Чеснок", "Соль", "Перец", "Специи"],
        recipe: "Обжарьте нарезанную баранину до золотистой корочки. Добавьте нарезанный лук, морковь, перец и обжаривайте до мягкости. Добавьте помидоры и специи, готовьте до размягчения. Подавайте с отварной лапшой."
    },
    {
        name: "Самса",
        type: "Самса",
        ingredients: ["Тесто для самсы", "Фарш из говядины", "Лук", "Соль", "Перец", "Масло растительное"],
        recipe: "Разделите тесто на небольшие кусочки и раскатайте. Приготовьте начинку из фарша, лука, соли и перца. Заверните начинку в тесто и сформируйте самсу. Выпекайте в разогретой духовке до золотистой корочки."
    },
    {
        name: "Шурпа",
        type: "Шурпа",
        ingredients: ["Баранина", "Картошка", "Морковь", "Лук", "Перец", "Помидоры", "Чеснок", "Соль", "Перец", "Специи"],
        recipe: "Обжарьте баранину до золотистой корочки. Добавьте нарезанные лук и морковь, обжаривайте до мягкости. Влейте воду и доведите до кипения. Добавьте картошку, помидоры, чеснок, специи и варите до готовности всех ингредиентов."
    }
];

// Функция для генерации кнопок
function generateDishButtons() {
    const dishList = document.getElementById('dishList');
    
    recipes.forEach(recipe => {
        if (recipe.type === "Пельмени") {
            const button = document.createElement('button');
            button.innerHTML = recipe.name;
            button.onclick = function() {
                window.location.href = `recipe.html?recipe=${encodeURIComponent(recipe.name)}`;
            };
            dishList.appendChild(button);
        }
    });
}

// // Вызов функции для генерации кнопок при загрузке страницы
// document.addEventListener('DOMContentLoaded', generateDishButtons);

// Функция для генерации контента на основе выбранного рецепта
// Функция для генерации контента на основе выбранного рецепта
function generateRecipePage(recipeName) {
    // Получение рецептов из LocalStorage
    const storedRecipes = JSON.parse(localStorage.getItem('recipes')) || [];
    
    // Объединение рецептов из массива и LocalStorage
    const allRecipes = [...recipes, ...storedRecipes];
    
    // Поиск рецепта по имени в объединенном списке
    const recipe = allRecipes.find(r => r.name === recipeName);

    if (recipe) {
        document.body.innerHTML = `
            <h1>${recipe.name}</h1>
            <h2>Тип блюда: ${recipe.type}</h2>
            <h3>Ингредиенты:</h3>
            <ul>${recipe.ingredients.map(ingredient => `<li>${ingredient}</li>`).join('')}</ul>
            <h3>Рецепт:</h3>
            <p>${recipe.recipe}</p>
            <button onclick="goBack()">Назад</button>
            <div class="logo">
                <img src="images/image 9.png" alt="Логотип">
            </div>
        `;
    } else {
        document.body.innerHTML = "<p>Рецепт не найден</p>";
    }
}
// Функция для возврата на предыдущую страницу
function goBack() {
    window.history.back();
}

// При загрузке страницы, например, через параметр URL можно получить выбранный рецепт
document.addEventListener('DOMContentLoaded', function() {
    // Пример: получаем название рецепта из параметра URL
    const urlParams = new URLSearchParams(window.location.search);
    const recipeName = urlParams.get('recipe');

    // Если имя рецепта передано, генерируем страницу для этого рецепта
    if (recipeName) {
        generateRecipePage(recipeName);
    }
});
